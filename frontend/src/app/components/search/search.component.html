<div class="container">
  <header class="page-header">
    <h1>Buscar Filmes</h1>
    <p>Encontre filmes por título, ano ou gênero</p>
  </header>

  <mat-card class="search-card">
    <mat-card-content>
      <form [formGroup]="searchForm" (ngSubmit)="search()">
        <div class="search-form">
          <mat-form-field appearance="outline">
            <mat-label>Título</mat-label>
            <input matInput formControlName="title" placeholder="Ex: Pulp Fiction">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Ano</mat-label>
            <input matInput formControlName="year" placeholder="Ex: 1994" type="number">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Gênero</mat-label>
            <input matInput formControlName="genre" placeholder="Ex: Drama">
          </mat-form-field>
        </div>

        <div class="search-actions">
          <button mat-raised-button color="primary" type="submit">
            <mat-icon>search</mat-icon>
            Buscar
          </button>
          <button mat-button type="button" (click)="clearSearch()">
            <mat-icon>clear</mat-icon>
            Limpar
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>

  <div class="loading-container" *ngIf="loading">
    <mat-spinner diameter="40"></mat-spinner>
  </div>

  <div class="search-results" *ngIf="searched && !loading">
    <h2 *ngIf="movies.length > 0">Resultados da Busca ({{ movies.length }})</h2>
    <div class="no-results" *ngIf="movies.length === 0">
      <mat-icon>search_off</mat-icon>
      <p>Nenhum filme encontrado com os critérios de busca informados.</p>
    </div>

    <div class="card-grid" *ngIf="movies.length > 0">
      <app-movie-card *ngFor="let movie of movies" [movie]="movie"></app-movie-card>
    </div>
  </div>
</div>